"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9439],{61606:function(e,a,r){r.d(a,{D:function(){return t},c:function(){return o}});let o={sku:"",name:"",price:"",thumbnail:""},t={banner_name:""}},69439:function(e,a,r){r.d(a,{$K:function(){return formatProductDetailForPDP},J2:function(){return formatProductsEcommerceForConclusion},Js:function(){return formatConclusionProductsForGTM},Oi:function(){return formatBannersForHome},Qk:function(){return formatEcommerceForCheckoutPayment},Vy:function(){return formatSearchResponseProducts},cX:function(){return formatCartProductsForGTM},fD:function(){return formatCartProductsForEcommerceItems},lH:function(){return formatEcommerceForCheckoutDelivery},m8:function(){return formatProductsPaymentForGTM},u5:function(){return formatProductForGTM},v:function(){return formatEcommerceForCart},vw:function(){return formatEcommerceForPDP}});var o=r(49295),t=r(60164),i=r(61606);let getProductCategoryDetailsData=e=>{var a,r;let o=[];return e.categoria&&e.idCategoria&&o.push({id:null===(a=e.idCategoria)||void 0===a?void 0:a.toString(),name:e.categoria}),e.subcategoria&&e.idSubcategoria&&o.push({id:null===(r=e.idSubcategoria)||void 0===r?void 0:r.toString(),name:e.subcategoria}),o},isAtacarejoAndHaventMinQuantity=(e,a)=>a<e,formatProductForGTM=e=>{var a;let r=[{id:e.idCategoria,name:e.categoria},{id:e.idSubcategoria,name:e.subcategoria}];return{available:"".concat(e.disponivel),brand:e.marca,category:formatCategoryDescription(e),categoryDetails:r.filter(e=>e.id),fullImage:e.fullImage,fullPrice:e.fullPrice,id:e.sku,installment:{count:e.contagemParcelas,price:e.precoParcelas},name:e.nome,price:Number(a=e.precoPor||"")>0?a:"",productPartNumber:e.idProdutoPai,sku:e.sku,parentSku:e.skuPai,thumbnail:e.thumbnail,wcsId:e.idProdutoPai}},formatCategoryDescription=e=>e.categoria&&e.subcategoria?"".concat(e.categoria,"|").concat(e.subcategoria):e.categoria?"".concat(e.categoria):e.subcategoria?"".concat(e.subcategoria):"",formatCartProduct=e=>({brand:e.marca,category:formatCategoryDescription(e),categoryDetails:getProductCategoryDetailsData(e),fullImage:e.thumbnail,fullPrice:Number((0,o.BF)(e.preco.precoCheio)),id:e.sku,name:e.nome,price:function(e){let a=e.preco.atacarejo.quantidade;return 0===a||isAtacarejoAndHaventMinQuantity(a,e.quantidade)?Number((0,o.BF)(e.preco.precoPor)):e.preco.atacarejo.precoUnitario}(e),sku:e.sku,thumbnail:e.thumbnail,quantity:e.quantidade,wcsId:e.idProduto.toString()}),formatServicesProductCartProduct=e=>({brand:"Garantia",category:"",thumbnail:e.thumbnail,fullImage:e.thumbnail,id:e.sku,sku:e.sku,name:e.nome,price:Number(e.valor),quantity:e.quantidade,wcsId:e.idProduto.toString()}),hasServicesInProduct=e=>e.quantidade>0,formatCartProductsForGTM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{return e.reduce((e,a)=>{if(a.disponivel){let r=a.servicosDisponiveis.filter(hasServicesInProduct)[0];r?e.push(formatCartProduct(a),formatServicesProductCartProduct(r)):e.push(formatCartProduct(a))}return e},[])}catch(e){return console.warn(e),[]}},formatProductsPaymentForGTM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{return e.reduce((e,a)=>(a.nome.includes("Garantia estendida:")?e.push({brand:"Garantia",category:"",categoryDetails:[],fullImage:a.thumbnail,id:"".concat(a.sku),name:a.nome,price:a.valorUnitario,quantity:a.quantidade,sku:a.sku,thumbnail:a.thumbnail,wcsId:"".concat(a.idProduto)}):"Brinde"===a.valorTotalText?e.push({id:a.sku,sku:a.sku,wcsId:"".concat(a.idProduto),name:a.nome,brand:a.marca,fullPrice:"",price:a.valorUnitario,categoryDetails:[{id:a.idCategoria,name:a.categoria},{id:a.idSubcategoria,name:a.subcategoria}],category:a.categoria&&a.subcategoria?"".concat(a.categoria,"/").concat(a.subcategoria):"",thumbnail:a.thumbnail,fullImage:a.thumbnail,quantity:a.quantidade}):e.push({brand:a.marca,category:a.categoria,categoryDetails:getProductCategoryDetailsData(a),fullImage:a.thumbnail,fullPrice:"".concat(a.valorUnitario),id:"".concat(a.sku),name:a.nome,price:a.valorUnitario,quantity:a.quantidade,sku:a.sku,thumbnail:a.thumbnail,wcsId:"".concat(a.idProduto)}),e),[])}catch(e){return console.warn(e),[]}},formatSearchResponseProducts=e=>{try{return null==e?void 0:e.map(e=>{var a,r,i;return formatProductForGTM({disponivel:e.disponivel,marca:e.marca,categoria:e.categoria,subcategoria:e.subcategoria,idCategoria:e.idCategoria,idSubcategoria:e.idSubcategoria,thumbnail:e.thumbnail||"",fullImage:e.thumbnail,fullPrice:(0,t.x4)((0,o.gC)((null===(a=e.preco.precoDe)||void 0===a?void 0:a.toString())||"")),preco:e.preco,idProdutoPai:e.idProdutoPai,idProduto:String(e.idProduto||""),sku:e.sku,nome:e.nome,contagemParcelas:(0,o.Qv)((null===(r=e.preco.parcelas)||void 0===r?void 0:r.numeroParcelas)||0).toString(),precoParcelas:(0,o._N)(e.preco),precoPor:Number((0,o.gC)((null===(i=e.preco.precoPor)||void 0===i?void 0:i.toString())||""))})})}catch(e){return console.warn(e),[]}},formatProductDetailForPDP=(e,a)=>{try{var r,t,n,c,u,l;return formatProductForGTM({disponivel:e.disponivel,marca:a.marca,categoria:a.categoria,subcategoria:a.subcategoria,idCategoria:a.idCategoria,idSubcategoria:a.idSubcategoria,thumbnail:a.thumbnail||"",fullImage:(null===(t=a.skus[0].imagens)||void 0===t?void 0:null===(r=t.at(0))||void 0===r?void 0:r.url360)||"",preco:e.preco,fullPrice:(0,o.BF)(e.preco.precoDe.toString()),idProdutoPai:a.idProdutoPai.toString(),idProduto:e.idProduto.toString(),sku:e.sku,skuPai:a.skuPai,nome:e.nome,contagemParcelas:(0,o.Qv)(e.preco.parcelas.numeroParcelas),precoParcelas:(0,o._N)(e.preco),precoPor:Number((0,o.gC)((0,o.$X)({percentualDescontoAVista:null!==(n=e.preco.percentualDescontoAVista)&&void 0!==n?n:0,precoCheioText:null!==(c=e.preco.precoCheioText)&&void 0!==c?c:"",precoPorText:null!==(u=e.preco.precoPorText)&&void 0!==u?u:"",precoPrazoText:null!==(l=e.preco.precoPrazoText)&&void 0!==l?l:""})))})}catch(e){return console.warn(e),i.c}},formatProductsEcommerceForConclusion=e=>{if(!(null==e?void 0:e.length))return[];try{return e.map((e,a)=>({item_id:e.sku,item_name:e.nome,affiliation:e.lojista,index:a,item_brand:e.marca,item_category:e.categoria,item_category2:e.subcategoria,item_list_id:e.idItemPedido,item_list_name:e.nome,item_variant:"",quantity:e.quantidade,price:e.valorUnitario}))}catch(e){return console.warn(e),[i.c]}},formatEcommerceForPDP=(e,a)=>{try{var r,t,n,c;return[{item_brand:a.marca,item_id:e.sku,item_category:a.categoria,item_category2:a.subcategoria,item_name:e.nome,price:Number((0,o.gC)((0,o.$X)({percentualDescontoAVista:null!==(r=e.preco.percentualDescontoAVista)&&void 0!==r?r:0,precoCheioText:null!==(t=e.preco.precoCheioText)&&void 0!==t?t:"",precoPorText:null!==(n=e.preco.precoPorText)&&void 0!==n?n:"",precoPrazoText:null!==(c=e.preco.precoPrazoText)&&void 0!==c?c:""})))}]}catch(e){return console.warn(e),[i.c]}},formatCartProductsForEcommerceItems=e=>e.map((e,a)=>{var r,t,i,n;return{item_id:e.idProduto,item_name:e.nome,affiliation:e.lojista,index:a,item_brand:e.marca,item_category:e.categoria,item_category2:e.subcategoria,item_list_id:e.idItemPedido,item_list_name:e.nome,price:e.preco?Number((0,o.gC)((0,o.$X)({percentualDescontoAVista:null!==(r=e.preco.percentualDescontoAVista)&&void 0!==r?r:0,precoCheioText:null!==(t=e.preco.precoCheioText)&&void 0!==t?t:"",precoPorText:null!==(i=e.preco.precoPorText)&&void 0!==i?i:"",precoPrazoText:null!==(n=e.preco.precoPrazoText)&&void 0!==n?n:""}))):null,quantity:e.quantidade}}),formatEcommerceForCart=e=>{try{var a;let r=formatCartProductsForEcommerceItems(e.itensPedido),o=null==e?void 0:null===(a=e.cupons)||void 0===a?void 0:a.map(e=>e.codigo),t=(null==o?void 0:o.join(","))||"";return{currency:"BRL",value:Number(e.valorTotalProdutos),coupon:t,items:r}}catch(e){return console.warn(e),{currency:"BRL",value:0,coupon:"",items:[]}}},formatEcommerceForCheckoutPayment=(e,a)=>{try{var r,o,t;let i=null===(r=e.itensPedido)||void 0===r?void 0:r.map((e,a)=>({item_id:e.idProduto,item_name:e.nome,affiliation:e.lojista,index:a,item_brand:e.marca,item_category:e.categoria,item_category2:e.subcategoria,item_list_id:e.idItemPedido,item_list_name:e.nome,price:e.valorUnitario,quantity:e.quantidade})),n=null==e?void 0:null===(o=e.cupons)||void 0===o?void 0:o.map(e=>e.codigo),c=(null==n?void 0:n.join(","))||"";return{currency:"BRL",value:null!==(t=e.valorTotalProdutos)&&void 0!==t?t:0,coupon:c,items:i,payment_type:a}}catch(e){return console.warn(e),{currency:"BRL",value:0,coupon:"",items:[],payment_type:""}}},formatEcommerceForCheckoutDelivery=(e,a)=>{try{var r,o,t;let i=null===(r=e.itensPedido)||void 0===r?void 0:r.map((e,a)=>({item_id:e.idProduto,item_name:e.nome,affiliation:e.lojista,index:a,item_brand:e.marca,item_category:e.categoria,item_category2:e.subcategoria,item_list_id:e.idItemPedido,item_list_name:e.nome,price:e.valorUnitario,quantity:e.quantidade})),n=null==e?void 0:null===(o=e.cupons)||void 0===o?void 0:o.map(e=>e.codigo),c=(null==n?void 0:n.join(","))||"";return{currency:"BRL",value:null!==(t=e.valorTotalProdutos)&&void 0!==t?t:0,coupon:c,items:i,shipping_tier:a}}catch(e){return console.warn(e),{currency:"BRL",value:0,coupon:"",items:[],shipping_tier:""}}},formatConclusionProductsForGTM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{return e.reduce((e,a)=>{if("Garantia"===a.marca)e.push({id:a.sku,sku:a.sku,wcsId:"".concat(a.idProduto),name:a.nome,brand:a.marca,fullPrice:"",price:a.valorUnitario,categoryDetails:[],category:a.categoria,thumbnail:a.thumbnail,fullImage:a.thumbnail,quantity:a.quantidade,adjustment:a.descontoItem});else if("Brinde"===a.valorTotalText)e.push({id:a.sku,sku:a.sku,wcsId:"".concat(a.idProduto),name:a.nome,brand:a.marca,fullPrice:"",price:a.valorUnitario,categoryDetails:[{id:a.idCategoria,name:a.categoria},{id:a.idSubcategoria,name:a.subcategoria}],category:"".concat(a.categoria,"/").concat(a.subcategoria),thumbnail:a.thumbnail,fullImage:a.thumbnail,quantity:a.quantidade,adjustment:a.descontoItem});else{var r,o;e.push({id:a.sku,sku:a.sku,wcsId:"".concat(a.idProduto),name:a.nome,brand:a.marca,fullPrice:"",price:a.valorUnitario,categoryDetails:getProductCategoryDetailsData(a),category:a.categoria,thumbnail:(null===(r=a.imagem)||void 0===r?void 0:r.url150)||"",fullImage:(null===(o=a.imagem)||void 0===o?void 0:o.url360)||"",quantity:a.quantidade,adjustment:a.descontoItem})}return e},[])}catch(e){console.warn(e)}},formatBannersForHome=e=>{try{return e.map((e,a)=>({banner_index:a+1,banner_name:e.destinoClick,banner_id:e.nome,banner_url:e.link,banner_creative:e.acaoClick,banner_position:e.secao,banner_image_base:new URL(e.imagem.url).origin,banner_image:e.imagem.url.replace(new URL(e.imagem.url).origin,""),banner_element:e.imagem.descricao}))}catch(e){return console.warn(e),[i.D]}}}}]);